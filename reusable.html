<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/bootstrap.min.css" media="screen" />

    <script type="text/javascript" src="javascripts/jquery.js"></script>
    <script type="text/javascript" src="javascripts/underscore.js"></script>
    <script type="text/javascript" src="javascripts/backbone.js"></script>
    <script type="text/javascript" src="javascripts/bootstrap.min.js"></script>
    <script type="text/javascript" src="javascripts/support/support.js"></script>
    <script type="text/javascript" src="javascripts/support/observer.js"></script>
    <script type="text/javascript" src="javascripts/support/composite_view.js"></script>
    <script type="text/javascript" src="javascripts/support/confirmModal.js"></script>


    <title>Backbone Lessons Learned by wwilkins</title>
  </head>

  <body>

    <header>
      <div class="container">
        <h1>Backbone Lessons Learned</h1>
        <h2>Re-usable utility views</h2>
      </div>
    </header>

    <div class="container">
      <section id="main_content">

        <h3>Title</h3>
        <input type="text" id="title" value="We have an iPhone App!"></input>

        <h3>Message</h3>
        <textarea id="message">Hi There! Sorry for blocking your entire screen with this reminder. The same one we'll show you every time you visit out website, but we really want you to download our iPhone app so we can justify our budget to management!</textarea>

        <h3>Yes Text</h3>
        <input type="text" id="yes" value="Yes, Take Me Right There"></input>

        <h3>No Text</h3>
        <input type="text" id="no" value="No, Please Die in a Fire"></input>

        <hr/>
        <button id="showModal">Show Modal</button><br/>
        <hr/>

        <h3>Result</h3>
        <textarea id="result" cols="5"></textarea>

      </section>
    </div>

    
  </body>
<script type="text/html" id="modal-template"><div class="modal hide fade">
<div class="modal-header">
  <h3>
    <%= title %>
  </h3>
</div>
<div class="modal-body">
  <p>
    <%= message %>
  </p>
</div>
<div class="modal-footer">

  <a id="cancel" href="#" class="btn">
    <%= no_text %>
  </a>

  <a id="confirm" href="#" class="btn btn-primary">
    <%= yes_text %>
  </a>

</div>
</div> 
</script>
  <script>
  $(function () {
    $('#showModal').click(function (e) {
      e.preventDefault();

      modalOptions = {
        title: $('#title').val(),
        message: $('#message').val(),
        yes_text: $('#yes').val(),
        no_text: $('#no').val()
      };
      modal = new ConfirmModal(modalOptions);

      var userClickedYes = function () {
        $('#result').text('We Have Our First iPhone Download on the way!');
      };

      var userClickedNo = function () {
        $('#result').text('Crap, our users want us to die in a fire!');
      }

      modal.promise.done(userClickedYes);
      modal.promise.fail(userClickedNo);
    });
  });
  </script>

</html>